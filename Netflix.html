<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://kit.fontawesome.com/391827d54c.js" crossorigin="anonymous"></script>
    <link rel="shortcut icon" href="./Assets/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <title>Netflix India - Watch TV Shows Online, Watch Movies Online</title>
</head>
<body>
    <div class="header">
        <nav>
            <img class="logo" src="./Assets/logo.png" alt="Netflix Logo">
            <div>
                <button class="lang-btn"><i class="fa-solid fa-globe"></i> English <img src="./Assets/down-icon.png" alt="Down Arrow"></button>
                <button class="sign-in-btn">Sign In</button>
            </div>
        </nav>

        <div class="header-content">
            <h1>Unlimited movies, TV shows, and more.</h1>
            <h3>Watch anywhere. Cancel anytime.</h3>
            <p>Ready to watch? Enter your email to create or restart your membership.</p>
            <form action="/signup" class="email-signup" method="post">
                <input type="email" placeholder="Email address" name="email" required>
                <button type="submit">Get Started</button>
            </form>

            <!-- Login Form -->
            <form action="/login" class="email-signup" method="post" id="login-form">
                <input type="email" placeholder="Email address" name="email" required>
                <input type="password" placeholder="Password" name="password" required>
                <button type="submit">Login</button>
            </form>
        </div>
    </div>

    <div class="features">
        <!-- ... (unchanged) ... -->
    </div>

    <div class="faq">
        <!-- ... (unchanged) ... -->
    </div>

    <div class="footer">
        <!-- ... (unchanged) ... -->
    </div>

    <!-- Protected Profile Section -->
    <div id="profile" style="display: none;">
        <h2>Welcome to your profile</h2>
        <p>Email: <span id="user-email"></span></p>
    </div>

    <script>
        // Function to handle login form submission
        async function handleLogin() {
            const email = document.querySelector('input[name="email"]').value;
            const password = document.querySelector('input[name="password"]').value;

            const response = await fetch('/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ email, password }),
            });

            const data = await response.json();

            if (response.ok) {
                // If login is successful, hide the login form and display the profile page
                document.getElementById('login-form').style.display = 'none';
                document.getElementById('profile').style.display = 'block';
                document.getElementById('user-email').innerText = email;
            } else {
                // If login fails, display an error message
                alert(data.error);
            }
        }
    </script>
</body>
</html>
